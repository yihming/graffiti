<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>常用代码.html</title>
	
    <meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
    <meta http-equiv="description" content="this is my page">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    
    <!--<link rel="stylesheet" type="text/css" href="./styles.css">-->

  </head>
  
  <body>
    <h1>session的用法</h1>
    <h2>根据网上的判断，java的session最好用一个类实现</h2>
    本系统中，UserSession是用来保存session的，有user_id 和user_name两个
    <h3>存取session的办法，在sevlet里面</h3>
        UserSession usersession = new UserSession();
        usersession.setUser_id(user_id);//user_id是变量
        usersession.setUser_name(user_name);//user_name 是变量
        HttpSession session = request.getSession(); //新建session
		session.setAttribute("usersession", usersession); //把usersession变量存入session
	<h3>获得session内容</h3>
	UserSession usersession = (UserSession)session.getAttribute("usersession");
	int user_id =usersession.getUser_id()
	
	public void testDate(){
		String sql = "select * from agency";
		try {
			dbc.rs = dbc.st.executeQuery(sql);
			//List list = null;
			AgencyVO agencyvo = new AgencyVO();
			while(dbc.rs.next()){
//				agencyvo.setAgency_id(dbc.rs.getInt("agency_id1"));
				Date date = (Date)dbc.rs.getTimestamp("agency_begin");
				String strTime = (new SimpleDateFormat("yyyy-MM-dd HH:mm:ss")).format(date);
				agencyvo.setAgency_begin(strTime);
				System.out.println(agencyvo.getAgency_begin());
//				list.add(agencyvo);
			}
			 
		} catch (SQLException e1) {
			// TODO Auto-generated catch block
			e1.printStackTrace();
		}
		
		 
        	
	}
	public void testInsertDate(){
//		String date = "2005-1-22 23:45:12";
		Date time = new Date();
		System.out.println(time.getMonth());
		String strTime = (new SimpleDateFormat("yyyy-MM-dd HH:mm:ss")).format(time);
		String sql ="insert into agency values(null,33,33,'nb','"+strTime+"'," +
				"to_date('2005-4-22 23:45:12','yyyy-mm-dd hh24-mi-ss'),1)";
	   try {
		res = dbc.st.executeUpdate(sql);
		System.out.println(res);
	} catch (SQLException e) {
		// TODO Auto-generated catch block
		e.printStackTrace();
	}
  </body>
</html>
